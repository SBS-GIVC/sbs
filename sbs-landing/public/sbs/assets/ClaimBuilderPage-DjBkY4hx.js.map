{"version":3,"file":"ClaimBuilderPage-DjBkY4hx.js","sources":["../../src/pages/ClaimBuilderPage.jsx"],"sourcesContent":["import { useState, useCallback, useEffect } from 'react';\nimport { nphiesService } from '../services/nphiesService';\nimport { aiAssistant } from '../services/aiAssistantService';\nimport { useToast } from '../components/Toast';\nimport { Button } from '../components/ui/Button';\nimport { Card, CardBody, CardHeader } from '../components/ui/Card';\nimport { SectionHeader } from '../components/ui/SectionHeader';\n\n/**\n * Premium Smart Claim Builder\n * AI-powered claim creation with bundle detection, validation, and real-time assistance\n */\nexport function ClaimBuilderPage() {\n  const [step, setStep] = useState(1);\n  const [claim, setClaim] = useState({\n    patientId: '',\n    patientName: '',\n    userEmail: '',\n    facilityId: 'FAC001',\n    policyNumber: '',\n    serviceDate: new Date().toISOString().split('T')[0],\n    claimType: 'institutional',\n    diagnoses: [],\n    items: []\n  });\n  const [currentItem, setCurrentItem] = useState({ sbsCode: '', description: '', quantity: 1, unitPrice: 0 });\n  const [sbsSuggestions, setSbsSuggestions] = useState([]);\n  const [showSuggestions, setShowSuggestions] = useState(false);\n  const [isSearching, setIsSearching] = useState(false);\n  const [aiInsights, setAiInsights] = useState(null);\n  const [eligibility, setEligibility] = useState(null);\n  const [bundleInfo, setBundleInfo] = useState(null);\n  const [priorAuthRequired, setPriorAuthRequired] = useState([]);\n  const [validation, setValidation] = useState(null);\n  const [isValidating, setIsValidating] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n  const [submissionResult, setSubmissionResult] = useState(null);\n  const [claimStatus, setClaimStatus] = useState(null);\n  const toast = useToast();\n\n  const verifyEligibility = async () => {\n    if (!claim.patientId) {\n      toast.warning('Please enter patient ID');\n      return;\n    }\n    \n    setLoading(true);\n    try {\n      const result = await nphiesService.checkEligibility({\n        patientId: claim.patientId,\n        insurerId: 'INS-AUTO',\n        policyNumber: claim.policyNumber || `POL-${claim.patientId}`,\n        serviceDate: claim.serviceDate\n      });\n      \n      setEligibility(result);\n      setClaim(prev => ({ ...prev, policyNumber: result.policyNumber }));\n      \n      if (result.eligible) {\n        toast.success('Patient eligibility verified');\n        setStep(2);\n      } else {\n        toast.error('Patient coverage not active');\n      }\n    } catch (error) {\n      toast.error('Verification failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSbsSearch = useCallback(async (query) => {\n    setCurrentItem(prev => ({ ...prev, sbsCode: query }));\n    if (query.length >= 2) {\n      setIsSearching(true);\n      try {\n        const results = await aiAssistant.smartSearch(query, { limit: 10, includeAI: true });\n        setSbsSuggestions(results.results);\n        setShowSuggestions(true);\n        if (results.aiInsights) setAiInsights(results.aiInsights);\n      } catch (error) {\n        const localResults = aiAssistant.localSearch(query, null, 10);\n        setSbsSuggestions(localResults);\n        setShowSuggestions(true);\n      } finally {\n        setIsSearching(false);\n      }\n    } else {\n      setSbsSuggestions([]);\n      setShowSuggestions(false);\n      setAiInsights(null);\n    }\n  }, []);\n\n  const selectSbsCode = (item) => {\n    setCurrentItem({\n      sbsCode: item.code,\n      description: item.desc,\n      quantity: 1,\n      unitPrice: item.fee || 250\n    });\n    setShowSuggestions(false);\n    setAiInsights(null);\n  };\n\n  const addItem = () => {\n    if (!currentItem.sbsCode) return;\n    const newItem = {\n      ...currentItem,\n      sequence: claim.items.length + 1,\n      netPrice: currentItem.quantity * currentItem.unitPrice\n    };\n    const newItems = [...claim.items, newItem];\n    setClaim(prev => ({ ...prev, items: newItems }));\n    setCurrentItem({ sbsCode: '', description: '', quantity: 1, unitPrice: 0 });\n    \n    checkBundles(newItems);\n    checkPriorAuth(newItem);\n    validateClaimWithAI(newItems);\n  };\n\n  const removeItem = (index) => {\n    const newItems = claim.items.filter((_, i) => i !== index);\n    setClaim(prev => ({ ...prev, items: newItems }));\n    checkBundles(newItems);\n    if (newItems.length > 0) validateClaimWithAI(newItems);\n    else setValidation(null);\n  };\n\n  const checkBundles = (items) => {\n    const sbsCodes = items.map(item => item.sbsCode);\n    const result = nphiesService.detectBundles(sbsCodes);\n    setBundleInfo(result.hasApplicableBundles ? result : null);\n  };\n\n  const checkPriorAuth = (item) => {\n    const highValueCodes = ['49518', '38200', '39703', '38218', '30443', '30571'];\n    const codePrefix = item.sbsCode.split('-')[0];\n    if (highValueCodes.includes(codePrefix) || item.unitPrice > 5000) {\n      setPriorAuthRequired(prev => [...prev, item.sbsCode]);\n    }\n  };\n\n  const validateClaimWithAI = async (items) => {\n    setIsValidating(true);\n    try {\n      const result = await aiAssistant.validateClaim({...claim, items});\n      setValidation(result);\n    } finally {\n      setIsValidating(false);\n    }\n  };\n\n  const calculateTotal = () => {\n    if (claim.bundleApplied && bundleInfo?.recommendedBundle) {\n      return bundleInfo.recommendedBundle.totalPrice;\n    }\n    return claim.items.reduce((sum, item) => sum + item.netPrice, 0);\n  };\n\n  const submitClaim = async () => {\n    setSubmitting(true);\n    try {\n      const res = await fetch('/api/submit-claim', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ claim: { ...claim, totalAmount: calculateTotal() } })\n      });\n      const result = await res.json();\n      setSubmissionResult(result);\n      setStep(4);\n      toast.success('Claim submitted successfully');\n    } catch (e) {\n      toast.error('Submission failed');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('en-SA', { style: 'currency', currency: 'SAR', minimumFractionDigits: 0 }).format(amount);\n  };\n\n  return (\n    <div className=\"flex-1 overflow-y-auto bg-grid scrollbar-hide\">\n      <main className=\"max-w-[1400px] mx-auto p-6 sm:p-8 space-y-8 stagger-children\">\n        \n        {/* Header and Progress */}\n        <section className=\"animate-premium-in\">\n          <SectionHeader \n            title=\"Smart Claim Builder\" \n            subtitle=\"Autonomous billing engine with real-time NPHIES compliance and AI code optimization.\"\n            badge=\"AI-V4 Powered\"\n          />\n\n          <div className=\"mt-10 mb-2 relative flex items-center justify-between max-w-3xl mx-auto\">\n            <div className=\"absolute top-1/2 left-0 right-0 h-1 bg-slate-200 dark:bg-slate-800 -translate-y-1/2 rounded-full\"></div>\n            <div \n              className=\"absolute top-1/2 left-0 h-1 bg-blue-600 -translate-y-1/2 rounded-full transition-all duration-700\"\n              style={{ width: `${((step - 1) / 3) * 100}%` }}\n            ></div>\n            \n            {[\n              { n: 1, icon: 'person_search', label: 'Identity' },\n              { n: 2, icon: 'add_task', label: 'Services' },\n              { n: 3, icon: 'fact_check', label: 'Review' },\n              { n: 4, icon: 'check_circle', label: 'Relayed' }\n            ].map(s => (\n              <div key={s.n} className=\"relative z-10 flex flex-col items-center gap-2\">\n                <div className={`size-12 rounded-2xl flex items-center justify-center transition-all duration-500 shadow-xl ${\n                  step >= s.n ? 'bg-blue-600 text-white scale-110 shadow-blue-600/20' : 'bg-white dark:bg-slate-800 text-slate-400'\n                }`}>\n                  <span className=\"material-symbols-outlined text-2xl\">{s.icon}</span>\n                </div>\n                <span className={`text-[10px] font-black uppercase tracking-widest ${step >= s.n ? 'text-blue-600' : 'text-slate-400'}`}>\n                  {s.label}\n                </span>\n              </div>\n            ))}\n          </div>\n        </section>\n\n        <div className=\"min-h-[600px]\">\n          {step === 1 && (\n            <Card className=\"max-w-4xl mx-auto animate-premium-in shadow-2xl\">\n              <CardHeader title=\"Patient & Payer Context\" subtitle=\"Verified identities against national databases minimize claim rejection.\" />\n              <CardBody className=\"grid md:grid-cols-2 gap-8\">\n                 <div className=\"space-y-4\">\n                    <div className=\"space-y-1.5\">\n                       <label className=\"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1\">Universal Patient ID</label>\n                       <div className=\"relative group\">\n                          <span className=\"material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-600\">fingerprint</span>\n                          <input \n                            type=\"text\" \n                            className=\"w-full pl-12 pr-4 py-3.5 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-800 rounded-2xl font-bold focus:outline-none focus:ring-2 focus:ring-blue-600/20\"\n                            placeholder=\"Enter Saudi ID / Iqama\"\n                            value={claim.patientId}\n                            onChange={(e) => setClaim({...claim, patientId: e.target.value})}\n                          />\n                       </div>\n                    </div>\n                    <div className=\"space-y-1.5\">\n                       <label className=\"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1\">Patient Full Name</label>\n                       <input \n                          type=\"text\" \n                          className=\"w-full px-4 py-3.5 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-800 rounded-2xl font-bold focus:outline-none focus:ring-2 focus:ring-blue-600/20\"\n                          placeholder=\"e.g. Fadil Ahmad\"\n                          value={claim.patientName}\n                          onChange={(e) => setClaim({...claim, patientName: e.target.value})}\n                       />\n                    </div>\n                 </div>\n                 <div className=\"space-y-4\">\n                    <div className=\"space-y-1.5\">\n                       <label className=\"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1\">Contact Email</label>\n                       <input \n                          type=\"email\" \n                          className=\"w-full px-4 py-3.5 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-800 rounded-2xl font-bold focus:outline-none focus:ring-2 focus:ring-blue-600/20\"\n                          placeholder=\"billing-notifications@provider.com\"\n                          value={claim.userEmail}\n                          onChange={(e) => setClaim({...claim, userEmail: e.target.value})}\n                       />\n                    </div>\n                    <div className=\"grid grid-cols-2 gap-4\">\n                       <div className=\"space-y-1.5\">\n                          <label className=\"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1\">Service Date</label>\n                          <input \n                            type=\"date\" \n                            className=\"w-full px-4 py-3.5 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-800 rounded-2xl font-bold focus:outline-none focus:ring-2 focus:ring-blue-600/20\"\n                            value={claim.serviceDate}\n                            onChange={(e) => setClaim({...claim, serviceDate: e.target.value})}\n                          />\n                       </div>\n                       <div className=\"space-y-1.5\">\n                          <label className=\"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1\">Claim Type</label>\n                          <select \n                            className=\"w-full px-4 py-3.5 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-800 rounded-2xl font-bold focus:outline-none focus:ring-2 focus:ring-blue-600/20 appearance-none pointer-events-auto\"\n                            value={claim.claimType}\n                            onChange={(e) => setClaim({...claim, claimType: e.target.value})}\n                          >\n                             <option value=\"institutional\">Institutional</option>\n                             <option value=\"professional\">Professional</option>\n                             <option value=\"pharmacy\">Pharmacy</option>\n                             <option value=\"vision\">Vision</option>\n                          </select>\n                       </div>\n                    </div>\n                 </div>\n                 <div className=\"md:col-span-2 pt-6 border-t border-slate-100 dark:border-slate-800\">\n                    <Button loading={loading} icon=\"verified\" onClick={verifyEligibility} className=\"w-full py-4 rounded-2xl\">Validate Identity & Continue</Button>\n                 </div>\n              </CardBody>\n            </Card>\n          )}\n\n          {step === 2 && (\n            <div className=\"grid lg:grid-cols-3 gap-8 animate-premium-in\">\n               <div className=\"lg:col-span-2 space-y-6\">\n                  {/* Service Entry */}\n                  <Card>\n                     <CardHeader title=\"Service Orchestration\" subtitle=\"Add procedures, pharmaceuticals, or disposables to this claim session.\" />\n                     <CardBody className=\"space-y-6\">\n                        <div className=\"relative space-y-2\">\n                           <label className=\"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1\">SBS Code / Service Description</label>\n                           <div className=\"relative\">\n                              <span className=\"material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-slate-400\">search</span>\n                              <input \n                                type=\"text\"\n                                className=\"w-full pl-12 pr-12 py-4 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-800 rounded-2xl font-bold focus:outline-none focus:ring-2 focus:ring-blue-600/20\"\n                                placeholder=\"Search by code or describe in natural language...\"\n                                value={currentItem.sbsCode}\n                                onChange={(e) => handleSbsSearch(e.target.value)}\n                              />\n                              {isSearching && <span className=\"material-symbols-outlined absolute right-4 top-1/2 -translate-y-1/2 animate-spin text-blue-600\">progress_activity</span>}\n                           </div>\n                           \n                           {showSuggestions && sbsSuggestions.length > 0 && (\n                             <div className=\"absolute z-50 w-full mt-2 glass-panel border border-slate-200/50 dark:border-slate-700/50 rounded-2xl shadow-2xl max-h-72 overflow-y-auto overflow-x-hidden\">\n                                {aiInsights && <div className=\"px-5 py-2.5 bg-blue-600 font-bold text-white text-[11px] flex items-center gap-2\">\n                                   <span className=\"material-symbols-outlined text-sm\">auto_awesome</span> {aiInsights}\n                                </div>}\n                                {sbsSuggestions.map((item, idx) => (\n                                  <div key={idx} onClick={() => selectSbsCode(item)} className=\"px-5 py-4 hover:bg-slate-100 dark:hover:bg-slate-800 cursor-pointer border-b border-slate-100 dark:border-slate-800 last:border-0 group/item transition-colors\">\n                                     <div className=\"flex justify-between items-start\">\n                                        <span className=\"font-mono text-sm font-bold text-blue-600 bg-blue-600/10 px-2 py-0.5 rounded\">{item.code}</span>\n                                        <span className=\"text-[10px] font-black uppercase text-slate-400\">{item.category}</span>\n                                     </div>\n                                     <p className=\"mt-1 text-sm font-bold text-slate-700 dark:text-slate-200\">{item.desc}</p>\n                                  </div>\n                                ))}\n                             </div>\n                           )}\n                        </div>\n                        <div className=\"grid grid-cols-2 gap-4\">\n                           <div className=\"space-y-2\">\n                              <label className=\"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1\">Quantity</label>\n                              <input \n                                type=\"number\" \n                                className=\"w-full px-4 py-3.5 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-800 rounded-2xl font-bold\"\n                                value={currentItem.quantity}\n                                onChange={(e) => setCurrentItem({...currentItem, quantity: Number(e.target.value)})}\n                              />\n                           </div>\n                           <div className=\"space-y-2\">\n                              <label className=\"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1\">Unit Price (Estimated)</label>\n                              <div className=\"relative\">\n                                 <span className=\"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-bold\">SAR</span>\n                                 <input \n                                   type=\"number\" \n                                   className=\"w-full pl-14 pr-4 py-3.5 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-800 rounded-2xl font-bold\"\n                                   value={currentItem.unitPrice}\n                                   onChange={(e) => setCurrentItem({...currentItem, unitPrice: Number(e.target.value)})}\n                                 />\n                              </div>\n                           </div>\n                        </div>\n                        <Button variant=\"secondary\" className=\"w-full py-4 rounded-2xl border-dashed\" onClick={addItem} icon=\"add_box\">Add to Session</Button>\n                     </CardBody>\n                  </Card>\n\n                  {/* List of items */}\n                  {claim.items.length > 0 && (\n                    <Card>\n                       <CardHeader title=\"Session Payload\" action={<span className=\"text-xl font-black text-blue-600\">{formatCurrency(calculateTotal())}</span>} />\n                       <div className=\"overflow-x-auto\">\n                          <table className=\"w-full text-left\">\n                             <thead className=\"bg-slate-50 dark:bg-slate-900/40\">\n                                <tr>\n                                   <th className=\"px-6 py-4 text-[10px] font-black uppercase text-slate-500\">Service Info</th>\n                                   <th className=\"px-6 py-4 text-[10px] font-black uppercase text-slate-500 text-right\">Net Price</th>\n                                   <th className=\"px-6 py-4 text-[10px] font-black uppercase text-slate-500\"></th>\n                                </tr>\n                             </thead>\n                             <tbody className=\"divide-y divide-slate-100 dark:divide-slate-800\">\n                                {claim.items.map((item, idx) => (\n                                  <tr key={idx} className=\"group hover:bg-slate-50/50 dark:hover:bg-slate-800/20 transition-colors\">\n                                     <td className=\"px-6 py-4\">\n                                        <div className=\"flex items-center gap-3\">\n                                           <span className=\"font-mono text-xs font-black bg-blue-600/10 text-blue-600 px-2 py-0.5 rounded\">{item.sbsCode}</span>\n                                           <p className=\"text-sm font-bold text-slate-700 dark:text-slate-200\">{item.description}</p>\n                                        </div>\n                                        <p className=\"text-[10px] font-bold text-slate-400 mt-1 uppercase tracking-widest\">{item.quantity} Unit Ã— {formatCurrency(item.unitPrice)}</p>\n                                     </td>\n                                     <td className=\"px-6 py-4 text-right font-black text-slate-900 dark:text-white\">\n                                        {formatCurrency(item.netPrice)}\n                                     </td>\n                                     <td className=\"px-6 py-4 text-right\">\n                                        <button onClick={() => removeItem(idx)} className=\"p-2 text-slate-300 hover:text-rose-500 transition-colors\"><span className=\"material-symbols-outlined text-lg\">delete</span></button>\n                                     </td>\n                                  </tr>\n                                ))}\n                             </tbody>\n                          </table>\n                       </div>\n                    </Card>\n                  )}\n               </div>\n\n               <div className=\"space-y-6\">\n                  {/* AI Validation */}\n                  {(validation || isValidating) && (\n                    <Card className={`border-l-4 transition-colors ${isValidating ? 'border-l-blue-600 animate-pulse' : validation?.errors?.length > 0 ? 'border-l-rose-500' : 'border-l-emerald-500 shadow-emerald-500/10'}`}>\n                       <CardBody className=\"space-y-4\">\n                          <div className=\"flex items-center gap-2\">\n                             <span className={`material-symbols-outlined font-black ${isValidating ? 'text-blue-600' : validation?.errors?.length > 0 ? 'text-rose-500' : 'text-emerald-500'}`}>\n                                {isValidating ? 'sync' : validation?.errors?.length > 0 ? 'report' : 'verified'}\n                             </span>\n                             <h4 className=\"text-sm font-black uppercase tracking-widest text-slate-900 dark:text-white\">AI Compliance Agent</h4>\n                          </div>\n                          \n                          {validation?.errors?.map((err, i) => (\n                            <div key={i} className=\"p-3 bg-rose-500/10 border border-rose-500/20 rounded-xl text-xs font-bold text-rose-600 flex gap-2\">\n                               <span className=\"material-symbols-outlined text-xs\">close</span> {err}\n                            </div>\n                          ))}\n                          {validation?.warnings?.map((err, i) => (\n                            <div key={i} className=\"p-3 bg-amber-500/10 border border-amber-500/20 rounded-xl text-xs font-bold text-amber-600 flex gap-2\">\n                               <span className=\"material-symbols-outlined text-xs\">warning</span> {err}\n                            </div>\n                          ))}\n                          \n                          {validation?.suggestions?.map((sug, i) => (\n                            <div key={i} className=\"p-4 glass-panel border border-blue-600/20 rounded-2xl space-y-3\">\n                               <div className=\"flex items-start gap-2\">\n                                  <span className=\"material-symbols-outlined text-blue-600 text-sm\">auto_awesome</span>\n                                  <p className=\"text-xs font-bold text-slate-700 dark:text-slate-300 leading-relaxed\">{sug.reason || sug.name}</p>\n                               </div>\n                               <button onClick={() => toast.info('Optimizing...')} className=\"w-full py-2 bg-blue-600 text-white text-[10px] font-black uppercase tracking-widest rounded-lg shadow-lg shadow-blue-600/20 transition-transform active:scale-95\">Optimize with Agent</button>\n                            </div>\n                          ))}\n\n                          {!isValidating && !validation?.errors?.length && claim.items.length > 0 && (\n                            <div className=\"text-center py-4 bg-emerald-500/5 rounded-2xl border border-emerald-500/10\">\n                               <p className=\"text-xs font-black text-emerald-600 uppercase tracking-widest\">Compliance Guaranteed</p>\n                            </div>\n                          )}\n                       </CardBody>\n                    </Card>\n                  )}\n\n                  {/* Summary Card */}\n                  <Card className=\"bg-slate-900 text-white shadow-2xl\">\n                     <CardBody className=\"space-y-6\">\n                        <div className=\"space-y-1\">\n                           <p className=\"text-[10px] font-black uppercase tracking-widest text-slate-500\">Total Adjudicated Amount</p>\n                           <h3 className=\"text-4xl font-black tracking-tighter text-blue-500\">{formatCurrency(calculateTotal())}</h3>\n                        </div>\n                        <div className=\"space-y-3 pt-6 border-t border-white/10\">\n                           <div className=\"flex justify-between text-xs font-bold text-slate-400\">\n                              <span>Patient Coverage</span>\n                              <span className=\"text-emerald-500\">92% Cover</span>\n                           </div>\n                           <div className=\"flex justify-between text-xs font-bold text-slate-400\">\n                              <span>Taxes / VAT</span>\n                              <span>SAR 0.00</span>\n                           </div>\n                        </div>\n                        <Button className=\"w-full py-4 rounded-2xl\" onClick={() => setStep(3)}>Proceed to Review</Button>\n                     </CardBody>\n                  </Card>\n               </div>\n            </div>\n          )}\n\n          {step === 3 && (\n            <Card className=\"max-w-3xl mx-auto animate-premium-in shadow-2xl overflow-hidden\">\n               <div className=\"p-12 text-center space-y-6 bg-slate-900 text-white\">\n                  <div className=\"size-20 bg-blue-600 rounded-[28px] flex items-center justify-center mx-auto shadow-2xl shadow-blue-600/40\">\n                     <span className=\"material-symbols-outlined text-4xl\">fact_check</span>\n                  </div>\n                  <div className=\"space-y-2\">\n                     <h2 className=\"text-4xl font-black tracking-tighter\">Final Verification</h2>\n                     <p className=\"text-slate-400 font-bold uppercase tracking-widest text-xs\">Review the operational payload before national relay</p>\n                  </div>\n               </div>\n               <CardBody className=\"p-8 space-y-8\">\n                  <div className=\"grid grid-cols-2 gap-6 pb-8 border-b border-slate-100 dark:border-slate-800\">\n                     <div>\n                        <p className=\"text-[10px] font-black uppercase text-slate-400\">Relaying to</p>\n                        <p className=\"text-lg font-black text-slate-800 dark:text-white\">NPHIES Production</p>\n                     </div>\n                     <div className=\"text-right\">\n                        <p className=\"text-[10px] font-black uppercase text-slate-400\">Claim Value</p>\n                        <p className=\"text-lg font-black text-blue-600\">{formatCurrency(calculateTotal())}</p>\n                     </div>\n                  </div>\n                  <div className=\"space-y-4\">\n                     <p className=\"text-[10px] font-black uppercase text-slate-400 text-center\">Security Check</p>\n                     <div className=\"flex justify-center gap-4\">\n                        <div className=\"flex items-center gap-2 text-xs font-bold text-emerald-500\"><span className=\"material-symbols-outlined text-sm\">shield</span> Digital Signature Ready</div>\n                        <div className=\"flex items-center gap-2 text-xs font-bold text-emerald-500\"><span className=\"material-symbols-outlined text-sm\">lock</span> RSA-2048 Active</div>\n                     </div>\n                  </div>\n                  <div className=\"flex gap-4 pt-4\">\n                     <Button variant=\"secondary\" className=\"flex-1 py-4\" onClick={() => setStep(2)}>Modify Session</Button>\n                     <Button loading={submitting} icon=\"bolt\" className=\"flex-[2] py-4\" onClick={submitClaim}>Sign & Submit to NPHIES</Button>\n                  </div>\n               </CardBody>\n            </Card>\n          )}\n\n          {step === 4 && (\n            <div className=\"max-w-2xl mx-auto text-center space-y-8 animate-premium-in py-12\">\n               <div className=\"relative\">\n                  <div className=\"size-32 bg-emerald-500 rounded-[40px] flex items-center justify-center mx-auto shadow-2xl shadow-emerald-500/20 scale-110\">\n                     <span className=\"material-symbols-outlined text-6xl text-white\">verified</span>\n                  </div>\n                  <div className=\"absolute inset-x-0 bottom-[-10px] flex justify-center\">\n                     <span className=\"px-4 py-1.5 bg-slate-900 border border-slate-800 text-white rounded-full text-[10px] font-black uppercase tracking-widest shadow-xl\">Transmission Success</span>\n                  </div>\n               </div>\n               <div className=\"space-y-3\">\n                  <h2 className=\"text-4xl font-black tracking-tighter text-slate-900 dark:text-white\">Claim Successfully Relayed</h2>\n                  <p className=\"text-slate-500 font-bold max-w-sm mx-auto leading-relaxed\">Your claim has been normalized, signed and accepted by the national integration gateway.</p>\n               </div>\n               \n               <Card className=\"bg-slate-50 dark:bg-slate-900/40 border-slate-200/50 dark:border-slate-800/50\">\n                  <CardBody className=\"space-y-4 text-left\">\n                     <div className=\"flex justify-between items-center text-sm font-bold\">\n                        <span className=\"text-slate-400 uppercase tracking-widest text-[10px]\">Reference ID</span>\n                        <code className=\"text-blue-600 font-mono\">{submissionResult?.claimId || 'CLM-88234-X'}</code>\n                     </div>\n                     <div className=\"flex justify-between items-center text-sm font-bold\">\n                        <span className=\"text-slate-400 uppercase tracking-widest text-[10px]\">Relay Status</span>\n                        <span className=\"text-emerald-500 uppercase\">Accepted</span>\n                     </div>\n                  </CardBody>\n               </Card>\n\n               <div className=\"flex flex-wrap justify-center gap-4\">\n                  <Button icon=\"receipt\" onClick={() => window.open(submissionResult?.trackingUrl, '_blank')}>Download NPHIES Receipt</Button>\n                  <Button variant=\"secondary\" icon=\"refresh\" onClick={() => window.location.reload()}>Build Another Claim</Button>\n               </div>\n            </div>\n          )}\n        </div>\n      </main>\n    </div>\n  );\n}\n"],"names":["ClaimBuilderPage","step","setStep","useState","claim","setClaim","currentItem","setCurrentItem","sbsSuggestions","setSbsSuggestions","showSuggestions","setShowSuggestions","isSearching","setIsSearching","aiInsights","setAiInsights","eligibility","setEligibility","bundleInfo","setBundleInfo","priorAuthRequired","setPriorAuthRequired","validation","setValidation","isValidating","setIsValidating","loading","setLoading","submitting","setSubmitting","submissionResult","setSubmissionResult","claimStatus","setClaimStatus","toast","useToast","verifyEligibility","result","nphiesService","prev","handleSbsSearch","useCallback","query","results","aiAssistant","localResults","selectSbsCode","item","addItem","newItem","newItems","checkBundles","checkPriorAuth","validateClaimWithAI","removeItem","index","_","i","items","sbsCodes","highValueCodes","codePrefix","calculateTotal","sum","submitClaim","formatCurrency","amount","jsxs","jsx","SectionHeader","Card","CardHeader","CardBody","e","Button","idx","err","sug"],"mappings":"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"}