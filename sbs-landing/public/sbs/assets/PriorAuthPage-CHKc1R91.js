import{r as u,j as e}from"./vendor-react-MVSD7VGK.js";import{n as W}from"./nphiesService-CN9naE0r.js";import{s as X}from"./middleware-D48fTRmh.js";import{i as q,u as Y}from"./main-DTZYqsTu.js";import{B as N}from"./Button-BDY0gMZ-.js";import{C as U,a as J,b as K}from"./Card-CNl4AdZD.js";import{S as Z}from"./SectionHeader-BFZqpzku.js";import"./vendor-BW1Bdpst.js";import"./apiService-D97cca7l.js";function ce({lang:i="en"}){const a=(q[i]||q.en).pages?.priorAuth||q.en.pages.priorAuth,f={patientId:"",patientName:"",facilityId:"FAC001",sbsCode:"",sbsDescription:"",diagnosis:"",estimatedAmount:"",expectedDate:"",clinicalNotes:"",urgency:"routine"},[c,y]=u.useState("new"),[s,o]=u.useState(f),[j,A]=u.useState([]),[F,b]=u.useState(!1),[L,E]=u.useState(!1),[k,C]=u.useState([]),[l,T]=u.useState(null),[S,D]=u.useState(!1),[O,P]=u.useState(null),[w,I]=u.useState(!1),[h,g]=u.useState({patientId:!1,sbsCode:!1,estimatedAmount:!1}),x=Y(),z=t=>{const r=String(t||"").trim();return r?/^[0-9]{10}$/.test(r)?null:a.validation.patientIdInvalid:a.validation.patientIdRequired},B=t=>{const r=String(t||"").trim();return r?r.length<4?i==="ar"?"أدخل 4 أحرف على الأقل لتحديد الإجراء.":"Enter at least 4 characters to identify a procedure.":null:a.validation.sbsRequired},_=t=>{const r=String(t??"").trim();if(!r)return a.validation.amountRequired;const d=Number(r);return!Number.isFinite(d)||d<=0?a.validation.amountInvalid:null},n=u.useMemo(()=>({patientId:w||h.patientId?z(s.patientId):null,sbsCode:w||h.sbsCode?B(s.sbsCode):null,estimatedAmount:w||h.estimatedAmount?_(s.estimatedAmount):null}),[w,h.patientId,h.sbsCode,h.estimatedAmount,s.patientId,s.sbsCode,s.estimatedAmount]);u.useEffect(()=>{C([{id:"PA-2026-ABC123",patientId:"1098765432",patientName:"Mohammed Al-Rashid",sbsCode:"49518-00-00",description:"Total Knee Replacement",status:"approved",requestedDate:"2026-01-25",approvedDate:"2026-01-27",expiryDate:"2026-02-27",approvedAmount:45e3},{id:"PA-2026-DEF456",patientId:"1098765433",patientName:"Fatima Al-Harbi",sbsCode:"38200-00-00",description:"Cardiac Catheterization",status:"pending",requestedDate:"2026-01-29",approvedDate:null,expiryDate:null,approvedAmount:null},{id:"PA-2026-GHI789",patientId:"1098765434",patientName:"Ahmed Al-Ghamdi",sbsCode:"39703-00-00",description:"Brain Tumor Excision",status:"denied",requestedDate:"2026-01-20",approvedDate:null,expiryDate:null,approvedAmount:null,denialReason:"Additional documentation required"}])},[]);const G=t=>{if(o(r=>({...r,sbsCode:t})),t.length>=2){const r=X(t,8);A(r),b(!0)}else A([]),b(!1)},V=t=>{o(r=>({...r,sbsCode:t.code,sbsDescription:t.desc})),b(!1)},Q=async t=>{t?.preventDefault?.(),I(!0);const r=z(s.patientId),d=B(s.sbsCode),v=_(s.estimatedAmount);if(r||d||v){g({patientId:!0,sbsCode:!0,estimatedAmount:!0}),x.warning(a.toast.fixFields);return}E(!0);try{const p=await W.submitPriorAuth({patientId:s.patientId,facilityId:s.facilityId,sbsCode:s.sbsCode,diagnosis:s.diagnosis,description:s.sbsDescription,estimatedAmount:parseFloat(s.estimatedAmount),expectedDate:s.expectedDate,urgency:s.urgency,clinicalNotes:s.clinicalNotes});T(p),D(!1),C($=>[{id:p.authNumber,patientId:s.patientId,patientName:s.patientName||"New Patient",sbsCode:s.sbsCode,description:s.sbsDescription,status:p.status,requestedDate:new Date().toISOString().split("T")[0],approvedDate:p.status==="approved"?new Date().toISOString().split("T")[0]:null,expiryDate:p.validUntil,approvedAmount:p.approvedAmount},...$]),x.success(i==="ar"?`تم إرسال طلب الموافقة ${p.authNumber}`:`Prior authorization ${p.authNumber} submitted`),o(f),I(!1),g({patientId:!1,sbsCode:!1,estimatedAmount:!1}),y("pending")}catch(p){x.error(p?.message||"Submission failed")}finally{E(!1)}},H=async t=>{if(t){P(t);try{const r=await fetch(`/api/prior-auth/${encodeURIComponent(t)}/status`),d=await r.json().catch(()=>null);if(!r.ok||!d?.success)throw new Error(d?.error||`Status check failed (HTTP ${r.status})`);const v=d.status==="approved"?"approved":d.status==="denied"?"denied":"pending",p=new Date().toISOString().split("T")[0];C($=>$.map(m=>m.id!==t?m:{...m,status:v,approvedAmount:typeof d.approvedAmount=="number"?d.approvedAmount:m.approvedAmount,expiryDate:d.validUntil||m.expiryDate,approvedDate:v==="approved"?m.approvedDate||p:m.approvedDate,denialReason:d.denialReason||m.denialReason})),x.success(`Status updated: ${v}`)}catch(r){x.error(r?.message||"Status check failed")}finally{P(null)}}},M=k.filter(t=>c==="new"?!1:c==="pending"?t.status==="pending":c==="approved"?t.status==="approved":c==="denied"?t.status==="denied":!0);return e.jsx("div",{className:"flex-1",children:e.jsxs("main",{className:"max-w-[1200px] mx-auto p-6 sm:p-8 space-y-8 stagger-children",children:[e.jsxs("section",{className:"animate-premium-in",children:[e.jsx(Z,{title:a.header.title,subtitle:a.header.subtitle,badge:a.header.badge}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-8",children:[{id:"new",label:a.tabs.new,icon:"add_circle"},{id:"pending",label:a.tabs.pending,icon:"hourglass_empty",count:k.filter(t=>t.status==="pending").length},{id:"approved",label:a.tabs.approved,icon:"verified",count:k.filter(t=>t.status==="approved").length},{id:"denied",label:a.tabs.denied,icon:"report",count:k.filter(t=>t.status==="denied").length},{id:"all",label:a.tabs.all,icon:"inventory_2"}].map(t=>e.jsxs("button",{type:"button",onClick:()=>y(t.id),"data-testid":`priorauth-tab-${t.id}`,className:`flex items-center gap-2.5 px-5 py-3 rounded-2xl font-bold transition-all duration-300 ${c===t.id?"bg-blue-600 text-white shadow-lg shadow-blue-600/20 scale-[1.05]":"bg-white dark:bg-slate-800 text-slate-500 dark:text-slate-400 hover:bg-white/50 border border-slate-200/50 dark:border-slate-700/50 hover:text-slate-900 dark:hover:text-white"} focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-600/30 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-slate-900`,children:[e.jsx("span",{"aria-hidden":"true",className:"material-symbols-outlined text-[20px]",children:t.icon}),e.jsx("span",{className:"text-sm tracking-tight",children:t.label}),t.count!==void 0&&t.count>0&&e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-black ${c===t.id?"bg-white/20 text-white":"bg-blue-600/10 text-blue-600"}`,children:t.count})]},t.id))})]}),e.jsxs("div",{className:"min-h-[500px] space-y-6",children:[l&&e.jsxs(U,{className:"animate-premium-in border border-slate-200/50 dark:border-slate-800/50",children:[e.jsx(J,{title:i==="ar"?"أدلة الموافقة":"Authorization Evidence",subtitle:i==="ar"?"تفاصيل الاستجابة لأغراض التدقيق والأتمتة.":"Operator-grade response details for auditability and workflow automation."}),e.jsxs(K,{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2","data-testid":"priorauth-meta",children:[e.jsxs("span",{className:"px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest bg-slate-50 dark:bg-slate-900/50 border border-slate-200/60 dark:border-slate-700/60",children:["id: ",l.authNumber]}),e.jsxs("span",{className:"px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest bg-slate-50 dark:bg-slate-900/50 border border-slate-200/60 dark:border-slate-700/60",children:["status: ",l.status]}),l.eta&&e.jsxs("span",{className:"px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest bg-slate-50 dark:bg-slate-900/50 border border-slate-200/60 dark:border-slate-700/60",children:["eta: ",l.eta]}),l.validUntil&&e.jsxs("span",{className:"px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest bg-slate-50 dark:bg-slate-900/50 border border-slate-200/60 dark:border-slate-700/60",children:["validUntil: ",l.validUntil]}),l.requestId&&e.jsxs("span",{className:"px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest bg-slate-50 dark:bg-slate-900/50 border border-slate-200/60 dark:border-slate-700/60",children:["req: ",String(l.requestId).slice(-8)]}),typeof l.responseTimeMs=="number"&&e.jsxs("span",{className:"px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest bg-slate-50 dark:bg-slate-900/50 border border-slate-200/60 dark:border-slate-700/60",children:[l.responseTimeMs,"ms"]})]}),l.requiredDocuments?.length||l.nextActions?.length?e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 dark:bg-slate-900/40 border border-slate-200/60 dark:border-slate-700/60",children:[e.jsx("div",{className:"text-[10px] font-black uppercase tracking-[0.18em] text-slate-400",children:"Required Documents"}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[(l.requiredDocuments||[]).map(t=>e.jsx("span",{className:"px-2.5 py-1 rounded-full text-[10px] font-black bg-blue-600/10 text-blue-600 border border-blue-600/20",children:t},t)),!l.requiredDocuments?.length&&e.jsx("span",{className:"text-xs font-bold text-slate-500",children:"None"})]})]}),e.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 dark:bg-slate-900/40 border border-slate-200/60 dark:border-slate-700/60",children:[e.jsx("div",{className:"text-[10px] font-black uppercase tracking-[0.18em] text-slate-400",children:"Next Actions"}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[(l.nextActions||[]).map(t=>e.jsx("span",{className:"px-2.5 py-1 rounded-full text-[10px] font-black bg-emerald-500/10 text-emerald-600 border border-emerald-500/20",children:t},t)),!l.nextActions?.length&&e.jsx("span",{className:"text-xs font-bold text-slate-500",children:"None"})]})]})]}):null,e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx(N,{variant:"secondary",icon:"content_copy",onClick:async()=>{try{await navigator.clipboard.writeText(JSON.stringify(l,null,2)),x.success(a.toast.copyOk)}catch{x.error(a.toast.copyFail)}},"data-testid":"priorauth-copy-json",children:i==="ar"?"نسخ JSON":"Copy JSON"}),e.jsx(N,{variant:"secondary",icon:S?"visibility_off":"visibility",onClick:()=>D(t=>!t),"data-testid":"priorauth-toggle-raw",children:S?i==="ar"?"إخفاء الخام":"Hide Raw":i==="ar"?"عرض الخام":"Show Raw"}),e.jsx(N,{variant:"secondary",icon:"refresh",onClick:()=>H(l.authNumber),disabled:O===l.authNumber,"data-testid":"priorauth-refresh-latest",children:a.actions.checkStatus})]}),S&&e.jsx("pre",{"data-testid":"priorauth-raw",className:"text-xs font-mono p-4 rounded-3xl bg-slate-950 text-slate-100 overflow-auto border border-slate-800/70",style:{maxHeight:380},children:JSON.stringify(l,null,2)})]})]}),c==="new"?e.jsxs(U,{className:"animate-premium-in",children:[e.jsx(J,{title:a.form.title,subtitle:a.form.subtitle}),e.jsx(K,{className:"space-y-8",children:e.jsxs("form",{className:"space-y-8",onSubmit:Q,noValidate:!0,children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2 text-primary",children:[e.jsxs("label",{htmlFor:"priorauth-patient-id",className:"text-[10px] font-black uppercase tracking-[0.15em] text-slate-500 ml-1",children:[a.form.patientId," ",e.jsxs("span",{"aria-hidden":"true",className:"text-rose-500",children:[" ","*"]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("span",{"aria-hidden":"true",className:"material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 transition-colors group-focus-within:text-blue-600",children:"person"}),e.jsx("input",{type:"text",id:"priorauth-patient-id",value:s.patientId,onChange:t=>o({...s,patientId:t.target.value}),onBlur:()=>g(t=>({...t,patientId:!0})),"data-testid":"priorauth-patient-id",inputMode:"numeric",pattern:"[0-9]{10}",required:!0,"aria-invalid":!!n.patientId,"aria-describedby":n.patientId?"priorauth-patient-id-error":void 0,className:`w-full pl-12 pr-4 py-3.5 bg-slate-50 dark:bg-slate-900/50 border rounded-2xl font-bold focus:outline-none focus:ring-2 ${n.patientId?"border-rose-500/60 dark:border-rose-500/50 focus:ring-rose-500/20":"border-slate-200 dark:border-slate-700 focus:ring-blue-600/20"}`,placeholder:"Saudi ID / Iqama"})]}),n.patientId&&e.jsx("p",{id:"priorauth-patient-id-error",role:"alert",className:"text-[11px] font-semibold text-rose-600 ml-1",children:n.patientId})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"priorauth-patient-name",className:"text-[10px] font-black uppercase tracking-[0.15em] text-slate-500 ml-1",children:a.form.patientName}),e.jsx("input",{type:"text",id:"priorauth-patient-name",value:s.patientName,onChange:t=>o({...s,patientName:t.target.value}),className:"w-full px-4 py-3.5 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-2xl font-bold focus:outline-none focus:ring-2 focus:ring-blue-600/20",placeholder:"e.g. Ahmad bin Khalid"})]})]}),e.jsxs("div",{className:"space-y-2 relative",children:[e.jsxs("label",{htmlFor:"priorauth-sbs-code",className:"text-[10px] font-black uppercase tracking-[0.15em] text-slate-500 ml-1",children:[a.form.sbsSelection," ",e.jsxs("span",{"aria-hidden":"true",className:"text-rose-500",children:[" ","*"]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("span",{"aria-hidden":"true",className:"material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 transition-colors group-focus-within:text-blue-600",children:"search"}),e.jsx("input",{type:"text",id:"priorauth-sbs-code",value:s.sbsCode,onChange:t=>G(t.target.value),onFocus:()=>j.length>0&&b(!0),onKeyDown:t=>{t.key==="Escape"&&b(!1)},onBlur:()=>{g(t=>({...t,sbsCode:!0})),setTimeout(()=>b(!1),150)},"data-testid":"priorauth-sbs-code",required:!0,role:"combobox","aria-autocomplete":"list","aria-expanded":F&&j.length>0,"aria-controls":"priorauth-suggestions-list","aria-invalid":!!n.sbsCode,"aria-describedby":n.sbsCode?"priorauth-sbs-code-error":void 0,className:`w-full pl-12 pr-4 py-3.5 bg-slate-50 dark:bg-slate-900/50 border rounded-2xl font-bold focus:outline-none focus:ring-2 ${n.sbsCode?"border-rose-500/60 dark:border-rose-500/50 focus:ring-rose-500/20":"border-slate-200 dark:border-slate-700 focus:ring-blue-600/20"}`,placeholder:"Search for procedure codes or keywords..."})]}),F&&j.length>0&&e.jsx("div",{id:"priorauth-suggestions-list",role:"listbox","data-testid":"priorauth-suggestions",className:"absolute z-50 w-full mt-2 glass-panel border border-slate-200/50 dark:border-slate-700/50 rounded-2xl shadow-2xl overflow-hidden max-h-72 overflow-y-auto stagger-children",children:j.map((t,r)=>e.jsxs("button",{type:"button",role:"option",onMouseDown:d=>{d.preventDefault(),V(t)},"data-testid":`priorauth-suggestion-${r}`,className:"px-5 py-4 hover:bg-blue-600 hover:text-white cursor-pointer border-b border-slate-100 dark:border-slate-800 last:border-0 transition-colors group/item focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-600/30 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-slate-900",children:[e.jsxs("div",{className:"flex justify-between items-start gap-4",children:[e.jsx("span",{className:"font-mono text-sm font-bold bg-blue-600/10 text-blue-600 px-2 py-0.5 rounded group-hover/item:bg-white group-hover/item:text-blue-600",children:t.code}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-slate-400 group-hover/item:text-white/60",children:t.category})]}),e.jsx("p",{className:"mt-1 text-sm font-medium leading-relaxed",children:t.desc})]},r))}),n.sbsCode&&e.jsx("p",{id:"priorauth-sbs-code-error",role:"alert",className:"text-[11px] font-semibold text-rose-600 ml-1",children:n.sbsCode})]}),s.sbsDescription&&e.jsxs("div",{className:"p-4 rounded-2xl bg-blue-600/5 border border-blue-600/20 flex items-center gap-3",children:[e.jsx("span",{"aria-hidden":"true",className:"material-symbols-outlined text-blue-600",children:"info"}),e.jsxs("p",{className:"text-sm font-bold text-blue-600",children:[i==="ar"?"تم الاختيار:":"Selected:"," ",s.sbsDescription]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"priorauth-estimated-amount",className:"text-[10px] font-black uppercase tracking-[0.15em] text-slate-500 ml-1",children:[a.form.estimated," ",e.jsxs("span",{"aria-hidden":"true",className:"text-rose-500",children:[" ","*"]})]}),e.jsx("input",{type:"number",id:"priorauth-estimated-amount",value:s.estimatedAmount,onChange:t=>o({...s,estimatedAmount:t.target.value}),onBlur:()=>g(t=>({...t,estimatedAmount:!0})),"data-testid":"priorauth-estimated-amount",min:"0",required:!0,"aria-invalid":!!n.estimatedAmount,"aria-describedby":n.estimatedAmount?"priorauth-estimated-amount-error":void 0,className:`w-full px-4 py-3.5 bg-slate-50 dark:bg-slate-900/50 border rounded-2xl font-bold focus:outline-none focus:ring-2 text-lg ${n.estimatedAmount?"border-rose-500/60 dark:border-rose-500/50 focus:ring-rose-500/20":"border-slate-200 dark:border-slate-700 focus:ring-blue-600/20"}`,placeholder:"0"}),n.estimatedAmount&&e.jsx("p",{id:"priorauth-estimated-amount-error",role:"alert",className:"text-[11px] font-semibold text-rose-600 ml-1",children:n.estimatedAmount})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"priorauth-expected-date",className:"text-[10px] font-black uppercase tracking-[0.15em] text-slate-500 ml-1",children:a.form.expectedDate}),e.jsx("input",{type:"date",id:"priorauth-expected-date",value:s.expectedDate,onChange:t=>o({...s,expectedDate:t.target.value}),"data-testid":"priorauth-expected-date",className:"w-full px-4 py-3.5 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-2xl font-bold focus:outline-none focus:ring-2 focus:ring-blue-600/20"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"priorauth-urgency",className:"text-[10px] font-black uppercase tracking-[0.15em] text-slate-500 ml-1",children:a.form.urgency}),e.jsxs("select",{id:"priorauth-urgency",value:s.urgency,onChange:t=>o({...s,urgency:t.target.value}),"data-testid":"priorauth-urgency",className:"w-full px-4 py-3.5 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-2xl font-bold focus:outline-none focus:ring-2 focus:ring-blue-600/20 appearance-none pointer-events-auto",children:[e.jsx("option",{value:"routine",children:a.urgencyOptions.routine}),e.jsx("option",{value:"urgent",children:a.urgencyOptions.urgent}),e.jsx("option",{value:"emergency",children:a.urgencyOptions.emergency})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"priorauth-clinical-notes",className:"text-[10px] font-black uppercase tracking-[0.15em] text-slate-500 ml-1",children:a.form.clinicalNotes}),e.jsx("textarea",{id:"priorauth-clinical-notes",value:s.clinicalNotes,onChange:t=>o({...s,clinicalNotes:t.target.value}),"data-testid":"priorauth-clinical-notes",rows:4,className:"w-full px-4 py-3.5 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-2xl font-bold focus:outline-none focus:ring-2 focus:ring-blue-600/20",placeholder:"Enter medical necessity details here..."})]}),e.jsxs("p",{className:"text-[11px] font-semibold text-slate-500 ml-1",children:[a.consent," ",e.jsx("button",{type:"button",onClick:()=>window.dispatchEvent(new CustomEvent("sbs:navigate",{detail:{view:"privacy"}})),className:"underline underline-offset-4 hover:text-blue-600 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-600/30 focus-visible:ring-offset-2 focus-visible:ring-offset-white",children:i==="ar"?"عرض الخصوصية":"View privacy"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200/50 dark:border-slate-800/50",children:[e.jsx(N,{type:"button",variant:"secondary",onClick:()=>{o(f),b(!1),A([]),T(null),D(!1),I(!1),g({patientId:!1,sbsCode:!1,estimatedAmount:!1})},"data-testid":"priorauth-reset",children:a.actions.reset}),e.jsx(N,{type:"submit",icon:"send",loading:L,className:"px-10","data-testid":"priorauth-submit",children:a.actions.submit})]})]})})]}):e.jsx("div",{className:"space-y-4",children:M.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-32 animate-premium-in",children:[e.jsx("div",{className:"size-20 rounded-[28px] bg-slate-50 dark:bg-slate-800/50 flex items-center justify-center text-slate-300 dark:text-slate-600 mb-4",children:e.jsx("span",{"aria-hidden":"true",className:"material-symbols-outlined text-5xl",children:"folder_off"})}),e.jsx("p",{className:"text-slate-500 font-bold uppercase tracking-widest text-xs",children:i==="ar"?"لا توجد سجلات في هذه القائمة":"No records in this queue"})]}):M.map((t,r)=>e.jsx(ee,{auth:t,delay:r*50,onRefresh:()=>H(t.id),refreshing:O===t.id,lang:i,t:a},t.id))})]})]})})}function ee({auth:i,delay:R,onRefresh:a,refreshing:f,lang:c="en",t:y}){const s={approved:{icon:"verified",color:"emerald",bg:"bg-emerald-500/10",text:"text-emerald-600"},pending:{icon:"hourglass_top",color:"amber",bg:"bg-amber-500/10",text:"text-amber-600"},denied:{icon:"report_off",color:"rose",bg:"bg-rose-500/10",text:"text-rose-600"}},o=s[i.status]||s.pending;return e.jsx("div",{className:"glass-card p-6 rounded-[28px] border border-slate-200/50 dark:border-slate-800/50 hover:border-blue-600/30 transition-all duration-300 animate-premium-in",style:{animationDelay:`${R}ms`},children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-center gap-6 w-full lg:w-auto",children:[e.jsx("div",{className:`size-16 rounded-[20px] ${o.bg} flex items-center justify-center ${o.text} text-center`,children:e.jsx("span",{"aria-hidden":"true",className:"material-symbols-outlined text-3xl font-bold",children:o.icon})}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h4",{className:"text-lg font-black text-slate-900 dark:text-white tracking-tight",children:i.id}),e.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[10px] font-black uppercase tracking-widest ${o.bg} ${o.text} border border-${o.color}-500/20`,children:i.status})]}),e.jsxs("p",{className:"text-sm font-bold text-slate-500",children:[i.patientName," ",e.jsx("span",{className:"mx-2 opacity-30",children:"|"})," ID: ",i.patientId]})]})]}),e.jsx("div",{className:"h-px lg:h-12 w-full lg:w-px bg-slate-200/50 dark:bg-slate-800/50"}),e.jsxs("div",{className:"flex-1 w-full",children:[e.jsx("p",{className:"text-xs font-black uppercase tracking-[0.2em] text-slate-400 mb-1",children:c==="ar"?"تفاصيل الإجراء":"Procedure Details"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"font-mono text-sm font-bold text-blue-600 bg-blue-600/10 px-2 py-0.5 rounded",children:i.sbsCode}),e.jsx("p",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 truncate max-w-md",children:i.description})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-right w-full lg:w-auto justify-between lg:justify-end",children:[e.jsxs("div",{children:[i.approvedAmount&&e.jsxs("p",{className:"text-lg font-black text-emerald-600 tracking-tighter",children:["SAR ",i.approvedAmount.toLocaleString()]}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:c==="ar"?`تم الطلب ${i.requestedDate}`:`Requested ${i.requestedDate}`})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[i.status==="pending"&&typeof a=="function"&&e.jsx("button",{type:"button",onClick:a,disabled:f,"data-testid":`priorauth-refresh-${i.id}`,className:"px-3 py-2 rounded-xl bg-slate-50 dark:bg-slate-800 text-slate-500 dark:text-slate-300 border border-slate-200/60 dark:border-slate-700/60 hover:text-blue-600 hover:bg-blue-600/10 transition-all text-[10px] font-black uppercase tracking-widest disabled:opacity-50 disabled:cursor-not-allowed focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-600/30 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-slate-900",children:f?c==="ar"?"جارٍ التحقق…":"Checking…":y?.actions?.checkStatus||(c==="ar"?"تحقق من الحالة":"Check Status")}),e.jsx("button",{type:"button","aria-label":c==="ar"?"فتح التفاصيل":"Open details",className:"p-2.5 rounded-xl bg-slate-50 dark:bg-slate-800 text-slate-400 hover:text-blue-600 hover:bg-blue-600/10 transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-600/30 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-slate-900",children:e.jsx("span",{"aria-hidden":"true",className:"material-symbols-outlined",children:"chevron_right"})})]})]})]})})}export{ce as PriorAuthPage};
//# sourceMappingURL=PriorAuthPage-CHKc1R91.js.map
