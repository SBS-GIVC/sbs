{"version":3,"file":"SBSCodeBrowser-EzT7UjQu.js","sources":["../../src/pages/SBSCodeBrowser.jsx"],"sourcesContent":["import { useState, useMemo, useCallback, useRef, useEffect } from 'react';\nimport { aiAssistant } from '../services/aiAssistantService';\nimport { useToast } from '../components/Toast';\nimport { Card, CardBody, CardHeader } from '../components/ui/Card';\nimport { SectionHeader } from '../components/ui/SectionHeader';\nimport { Button } from '../components/ui/Button';\nimport { i18n } from '../utils/i18n';\n\n/**\n * Premium SBS Code Browser\n * Unified Terminology Explorer for GIVC-SBS\n */\nexport function SBSCodeBrowser({ lang = 'en', isRTL = false }) {\n  const copy = i18n[lang] || i18n.en;\n  const t = copy.pages?.codeBrowser || i18n.en.pages.codeBrowser;\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState('all');\n  const [selectedCode, setSelectedCode] = useState(null);\n  const [isSearching, setIsSearching] = useState(false);\n  const [isCatalogLoading, setIsCatalogLoading] = useState(true);\n  const [aiInsights, setAiInsights] = useState(null);\n  const [displayLimit, setDisplayLimit] = useState(100);\n  const scrollRef = useRef(null);\n  const toast = useToast();\n  const [allCodes, setAllCodes] = useState([]);\n  const [categories, setCategories] = useState(['all']);\n  const [searchResults, setSearchResults] = useState({ results: [], source: 'local' });\n\n  useEffect(() => {\n    let cancelled = false;\n    (async () => {\n      setIsCatalogLoading(true);\n      try {\n        await aiAssistant.ensureCatalogLoaded();\n        if (cancelled) return;\n        const codes = aiAssistant.getAllCodes();\n        setAllCodes(codes);\n        setCategories(['all', ...aiAssistant.getCategories()]);\n        setSearchResults({ results: codes, source: 'local' });\n      } catch (error) {\n        if (cancelled) return;\n        console.warn('SBS catalog failed to load, continuing with empty state:', error);\n        setAllCodes([]);\n        setCategories(['all']);\n        setSearchResults({ results: [], source: 'unavailable' });\n        toast.warning(t.toast.catalogUnavailable);\n      } finally {\n        if (!cancelled) setIsCatalogLoading(false);\n      }\n    })();\n    return () => {\n      cancelled = true;\n    };\n  }, []);\n\n  useEffect(() => {\n    if (isCatalogLoading) return;\n    const timer = setTimeout(async () => {\n      if (searchQuery.length >= 2) {\n        setIsSearching(true);\n        try {\n          const results = await aiAssistant.smartSearch(searchQuery, {\n            limit: 200,\n            category: selectedCategory === 'all' ? null : selectedCategory,\n            includeAI: true\n          });\n          setSearchResults(results);\n          setAiInsights(results.aiInsights);\n        } finally {\n          setIsSearching(false);\n        }\n      } else {\n        const filtered = selectedCategory === 'all' \n          ? allCodes \n          : allCodes.filter(c => c.category === selectedCategory);\n        setSearchResults({ results: filtered, source: 'local' });\n        setAiInsights(null);\n      }\n    }, 300);\n    return () => clearTimeout(timer);\n  }, [searchQuery, selectedCategory, allCodes, isCatalogLoading]);\n\n  useEffect(() => {\n    setDisplayLimit(100);\n  }, [searchQuery, selectedCategory]);\n\n  const displayedCodes = useMemo(() => searchResults.results.slice(0, displayLimit), [searchResults, displayLimit]);\n\n  const handleScroll = (e) => {\n    const { scrollTop, scrollHeight, clientHeight } = e.target;\n    if (scrollHeight - scrollTop - clientHeight < 400 && displayLimit < searchResults.results.length) {\n      setDisplayLimit(prev => prev + 100);\n    }\n  };\n\n  const copyCode = (code) => {\n    navigator.clipboard\n      .writeText(code)\n      .then(() => toast.success(t.toast.codeCopied.replace('{code}', code)))\n      .catch(() => toast.error(t.toast.clipboardDenied));\n  };\n\n  return (\n    <div className=\"flex-1 overflow-hidden bg-grid flex\">\n      {/* Main Search Area */}\n      <div className=\"flex-1 flex flex-col min-w-0\">\n        <header className=\"px-8 py-10 sm:px-12 space-y-8 animate-premium-in\">\n           <div className=\"flex flex-col md:flex-row md:items-end justify-between gap-6\">\n              <SectionHeader \n                title={t.header.title}\n                subtitle={t.header.subtitleTemplate.replace('{count}', allCodes.length.toLocaleString(lang === 'ar' ? 'ar-SA' : undefined))}\n                badge={t.header.badge}\n              />\n              <div className=\"flex bg-slate-100 dark:bg-slate-900/50 p-1.5 rounded-2xl border border-slate-200 dark:border-slate-800\">\n                 <button type=\"button\" className=\"px-6 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest bg-white dark:bg-slate-800 shadow-sm\">{t.view.grid}</button>\n                 <button type=\"button\" className=\"px-6 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest text-slate-400\">{t.view.condensed}</button>\n              </div>\n           </div>\n\n           <div className=\"flex flex-col sm:flex-row gap-4\">\n              <div className=\"flex-1 relative group\">\n                 <span className={`absolute ${isRTL ? 'right-5' : 'left-5'} top-1/2 -translate-y-1/2 material-symbols-outlined text-slate-400 group-focus-within:text-blue-600 transition-colors`}>search</span>\n                 <input \n                    type=\"text\" \n                    placeholder={t.search.placeholder}\n                    aria-label={t.search.label}\n                    className={`w-full h-16 bg-white dark:bg-slate-900 border-2 border-slate-100 dark:border-slate-800 rounded-[28px] ${isRTL ? 'pr-14 pl-20 text-right' : 'pl-14 pr-20 text-left'} text-sm font-bold focus:outline-none focus:border-blue-600/30 focus:ring-4 focus:ring-blue-600/5 transition-all shadow-sm`}\n                    data-testid=\"codebrowser-search\"\n                    value={searchQuery}\n                    onChange={(e) => setSearchQuery(e.target.value)}\n                 />\n                 {isSearching && <div className={`absolute ${isRTL ? 'left-6' : 'right-6'} top-1/2 -translate-y-1/2 size-5 border-2 border-blue-600 border-t-transparent rounded-full animate-spin`}></div>}\n              </div>\n              <select \n                className=\"h-16 px-6 bg-white dark:bg-slate-900 border-2 border-slate-100 dark:border-slate-800 rounded-[28px] text-xs font-black uppercase tracking-widest focus:outline-none\"\n                data-testid=\"codebrowser-category\"\n                value={selectedCategory}\n                onChange={(e) => setSelectedCategory(e.target.value)}\n                aria-label={t.category.label}\n              >\n                 {categories.map(cat => <option key={cat} value={cat}>{cat.replace(/_/g, ' ')}</option>)}\n              </select>\n           </div>\n           \n           {aiInsights && (\n              <div className=\"p-4 rounded-2xl bg-blue-600/5 border border-blue-600/10 flex items-center gap-3 animate-premium-in\">\n                 <span className=\"material-symbols-outlined text-blue-600\">auto_awesome</span>\n                 <p className=\"text-xs font-bold text-slate-600 dark:text-gray-300 italic\">{aiInsights}</p>\n              </div>\n           )}\n\n           {isCatalogLoading && (\n             <div className=\"p-4 rounded-2xl bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-800 flex items-center gap-3\">\n                <span className=\"material-symbols-outlined text-blue-600 animate-spin\">progress_activity</span>\n                <p className=\"text-xs font-bold text-slate-500\">{t.loading.catalog}</p>\n             </div>\n           )}\n        </header>\n\n        <div \n          ref={scrollRef}\n          onScroll={handleScroll}\n          data-testid=\"codebrowser-results\"\n          className=\"flex-1 overflow-y-auto px-8 sm:px-12 pb-12 scrollbar-hide\"\n        >\n           <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 stagger-children\">\n              {displayedCodes.map((c, i) => (\n                <CodeCell \n                  key={c.code + i} \n                  code={c} \n                  selected={selectedCode?.code === c.code}\n                  onClick={() => setSelectedCode(c)}\n                  onCopy={() => copyCode(c.code)}\n                  copyAriaTemplate={t.cell.copyAriaTemplate}\n                  fallbackCategory={t.cell.fallbackCategory}\n                />\n              ))}\n           </div>\n           {searchResults.results.length === 0 && (\n             <div className=\"flex flex-col items-center justify-center py-32 space-y-6 opacity-40\">\n                <span className=\"material-symbols-outlined text-[80px] font-black\">search_off</span>\n                <p className=\"font-black uppercase tracking-widest text-sm\">{t.empty}</p>\n             </div>\n           )}\n        </div>\n      </div>\n\n      {/* Dynamic Detail Panel */}\n      {selectedCode && (\n        <aside data-testid=\"codebrowser-detail\" className=\"w-[450px] bg-white dark:bg-slate-950 border-l border-slate-100 dark:border-slate-800 overflow-y-auto animate-premium-in shadow-2xl z-20\">\n           <div className=\"p-10 space-y-10\">\n              <div className=\"flex justify-between items-start\">\n                 <div className=\"space-y-1\">\n                    <p className=\"text-[10px] font-black uppercase tracking-widest text-blue-600\">{t.detail.kicker}</p>\n                    <h2 className=\"text-3xl font-black text-slate-900 dark:text-white tracking-tighter\">{selectedCode.code}</h2>\n                 </div>\n                 <button\n                   type=\"button\"\n                   onClick={() => setSelectedCode(null)}\n                   aria-label={t.detail.close}\n                   className=\"p-2 rounded-xl bg-slate-50 dark:bg-slate-900 text-slate-400 hover:text-rose-500 transition-colors\"\n                 >\n                    <span className=\"material-symbols-outlined\">close</span>\n                 </button>\n              </div>\n\n              <div className=\"space-y-6\">\n                 <div className=\"space-y-2\">\n                    <label className=\"text-[10px] font-black uppercase tracking-widest text-slate-400\">{t.detail.technical}</label>\n                    <p className=\"text-sm font-bold leading-relaxed text-slate-800 dark:text-gray-100\">{selectedCode.desc}</p>\n                 </div>\n                 <div className=\"space-y-2\">\n                    <label className=\"text-[10px] font-black uppercase tracking-widest text-slate-400\">{t.detail.domain}</label>\n                    <div className=\"inline-flex px-4 py-1.5 rounded-xl bg-blue-600 text-white text-[10px] font-black uppercase tracking-widest shadow-lg shadow-blue-600/20\">\n                       {selectedCode.category || t.detail.fallbackCategory}\n                    </div>\n                 </div>\n              </div>\n\n              <div className=\"p-8 rounded-[40px] bg-slate-50 dark:bg-slate-900 border border-slate-100 dark:border-slate-800 space-y-6\">\n                 <h4 className=\"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-slate-500\">\n                    <span className=\"material-symbols-outlined text-blue-600 text-lg\">psychology</span>\n                    {t.detail.neuralCrossRef}\n                 </h4>\n                 <div className=\"space-y-4\">\n                    <div className=\"flex justify-between items-center text-xs font-bold text-slate-400\">\n                       <span>{t.detail.approvalConfidence}</span>\n                       <span className=\"text-blue-600\">98.2%</span>\n                    </div>\n                    <div className=\"h-1.5 bg-slate-200 dark:bg-slate-800 rounded-full overflow-hidden\">\n                       <div className=\"h-full bg-blue-600 w-[98%]\"></div>\n                    </div>\n                 </div>\n                 <p className=\"text-[11px] font-bold text-slate-500 leading-relaxed italic\">\n                    {t.detail.deepSeekLead}{' '}\n                    <span className=\"text-blue-600 font-black\">{t.detail.deepSeekCode}</span>{' '}\n                    {t.detail.deepSeekTail}\n                 </p>\n              </div>\n\n              <div className=\"space-y-4 pt-4\">\n                 <Button\n                   className=\"w-full py-6 text-sm shadow-xl shadow-blue-600/20\"\n                   icon=\"add_box\"\n                   data-testid=\"codebrowser-enroll\"\n                   onClick={() => {\n                     const context = {\n                       code: selectedCode.code,\n                       description: selectedCode.desc,\n                       category: selectedCode.category || null,\n                       fee: Number(selectedCode.fee || 0),\n                       source: 'code-browser',\n                       stagedAt: new Date().toISOString()\n                     };\n                     try { window.sessionStorage.setItem('sbs_claim_context_code', JSON.stringify(context)); } catch {}\n                     try { window.dispatchEvent(new CustomEvent('sbs:claim-context', { detail: context })); } catch {}\n                     toast.success(t.toast.staged);\n                     window.dispatchEvent(new CustomEvent('sbs:navigate', { detail: { view: 'claim-builder' } }));\n                   }}\n                 >\n                   {t.actions.enroll}\n                 </Button>\n                 <Button\n                   variant=\"secondary\"\n                   className=\"w-full py-6 text-sm\"\n                   icon=\"content_copy\"\n                   data-testid=\"codebrowser-copy\"\n                   onClick={() => copyCode(selectedCode.code)}\n                 >\n                   {t.actions.copyId}\n                 </Button>\n              </div>\n           </div>\n        </aside>\n      )}\n    </div>\n  );\n}\n\nfunction CodeCell({ code, selected, onClick, onCopy, copyAriaTemplate, fallbackCategory }) {\n  return (\n    <Card \n      onClick={onClick}\n      data-testid={`codebrowser-cell-${code.code}`}\n      className={`group cursor-pointer transition-all hover:scale-[1.02] border-2 ${selected ? 'border-blue-600 shadow-2xl shadow-blue-600/10' : 'border-transparent'}`}\n      role=\"button\"\n      tabIndex={0}\n      onKeyDown={(e) => {\n        if (e.key === 'Enter' || e.key === ' ') {\n          e.preventDefault();\n          onClick?.();\n        }\n      }}\n    >\n       <CardBody className=\"p-8 space-y-6\">\n          <div className=\"flex justify-between items-center\">\n             <span className=\"text-lg font-black tracking-tight text-blue-600 font-mono\">{code.code}</span>\n             <button\n               type=\"button\"\n               onClick={(e) => { e.stopPropagation(); onCopy(); }}\n               aria-label={String(copyAriaTemplate || '').replace('{code}', code.code)}\n               className=\"size-8 rounded-lg bg-slate-50 dark:bg-slate-900 text-slate-400 opacity-0 group-hover:opacity-100 hover:text-blue-600 transition-all\"\n             >\n                <span className=\"material-symbols-outlined text-sm\">content_copy</span>\n             </button>\n          </div>\n          <p className=\"text-sm font-bold text-slate-800 dark:text-gray-100 line-clamp-2 leading-snug group-hover:text-blue-600 transition-colors\">\n             {code.desc}\n          </p>\n          <div className=\"pt-2 border-t border-slate-100 dark:border-slate-800 flex justify-between items-center\">\n             <span className=\"text-[9px] font-black uppercase tracking-widest text-slate-400\">{code.category?.replace(/_/g, ' ') || fallbackCategory}</span>\n             {code.source === 'ai' && <span className=\"material-symbols-outlined text-amber-500 text-lg\">auto_awesome</span>}\n          </div>\n       </CardBody>\n    </Card>\n  );\n}\n"],"names":["SBSCodeBrowser","lang","isRTL","i18n","searchQuery","setSearchQuery","useState","selectedCategory","setSelectedCategory","selectedCode","setSelectedCode","isSearching","setIsSearching","isCatalogLoading","setIsCatalogLoading","aiInsights","setAiInsights","displayLimit","setDisplayLimit","scrollRef","useRef","toast","useToast","allCodes","setAllCodes","categories","setCategories","searchResults","setSearchResults","useEffect","cancelled","aiAssistant","codes","error","timer","results","filtered","c","displayedCodes","useMemo","handleScroll","e","scrollTop","scrollHeight","clientHeight","prev","copyCode","code","jsxs","jsx","SectionHeader","cat","i","CodeCell","Button","context","selected","onClick","onCopy","copyAriaTemplate","fallbackCategory","Card","CardBody"],"mappings":"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"}