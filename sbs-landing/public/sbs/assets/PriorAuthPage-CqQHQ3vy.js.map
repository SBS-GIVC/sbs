{"version":3,"file":"PriorAuthPage-CqQHQ3vy.js","sources":["../../src/pages/PriorAuthPage.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { nphiesService } from '../services/nphiesService';\nimport { searchSBSCodes } from '../utils/middleware';\nimport { useToast } from '../components/Toast';\nimport { Button } from '../components/ui/Button';\nimport { Card, CardBody, CardHeader } from '../components/ui/Card';\nimport { SectionHeader } from '../components/ui/SectionHeader';\n\n/**\n * Premium Prior Authorization Page\n * Optimized for GIVC-SBS Ultra-Premium Design System\n */\nexport function PriorAuthPage() {\n  const initialFormData = {\n    patientId: '',\n    patientName: '',\n    facilityId: 'FAC001',\n    sbsCode: '',\n    sbsDescription: '',\n    diagnosis: '',\n    estimatedAmount: '',\n    expectedDate: '',\n    clinicalNotes: '',\n    urgency: 'routine'\n  };\n\n  const [activeTab, setActiveTab] = useState('new');\n  const [formData, setFormData] = useState(initialFormData);\n  const [sbsSuggestions, setSbsSuggestions] = useState([]);\n  const [showSuggestions, setShowSuggestions] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n  const [authorizations, setAuthorizations] = useState([]);\n  const toast = useToast();\n\n  useEffect(() => {\n    setAuthorizations([\n      {\n        id: 'PA-2026-ABC123',\n        patientId: '1098765432',\n        patientName: 'Mohammed Al-Rashid',\n        sbsCode: '49518-00-00',\n        description: 'Total Knee Replacement',\n        status: 'approved',\n        requestedDate: '2026-01-25',\n        approvedDate: '2026-01-27',\n        expiryDate: '2026-02-27',\n        approvedAmount: 45000\n      },\n      {\n        id: 'PA-2026-DEF456',\n        patientId: '1098765433',\n        patientName: 'Fatima Al-Harbi',\n        sbsCode: '38200-00-00',\n        description: 'Cardiac Catheterization',\n        status: 'pending',\n        requestedDate: '2026-01-29',\n        approvedDate: null,\n        expiryDate: null,\n        approvedAmount: null\n      },\n      {\n        id: 'PA-2026-GHI789',\n        patientId: '1098765434',\n        patientName: 'Ahmed Al-Ghamdi',\n        sbsCode: '39703-00-00',\n        description: 'Brain Tumor Excision',\n        status: 'denied',\n        requestedDate: '2026-01-20',\n        approvedDate: null,\n        expiryDate: null,\n        approvedAmount: null,\n        denialReason: 'Additional documentation required'\n      }\n    ]);\n  }, []);\n\n  const handleSbsSearch = (query) => {\n    setFormData(prev => ({ ...prev, sbsCode: query }));\n    if (query.length >= 2) {\n      const results = searchSBSCodes(query, 8);\n      setSbsSuggestions(results);\n      setShowSuggestions(true);\n    } else {\n      setSbsSuggestions([]);\n      setShowSuggestions(false);\n    }\n  };\n\n  const selectSbsCode = (item) => {\n    setFormData(prev => ({\n      ...prev,\n      sbsCode: item.code,\n      sbsDescription: item.desc\n    }));\n    setShowSuggestions(false);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!formData.patientId || !formData.sbsCode || !formData.estimatedAmount) {\n      toast.warning('Please fill in all required fields');\n      return;\n    }\n    setSubmitting(true);\n    try {\n      const result = await nphiesService.submitPriorAuth({\n        patientId: formData.patientId,\n        facilityId: formData.facilityId,\n        sbsCode: formData.sbsCode,\n        diagnosis: formData.diagnosis,\n        description: formData.sbsDescription,\n        estimatedAmount: parseFloat(formData.estimatedAmount),\n        expectedDate: formData.expectedDate\n      });\n\n      setAuthorizations(prev => [{\n        id: result.authNumber,\n        patientId: formData.patientId,\n        patientName: formData.patientName || 'New Patient',\n        sbsCode: formData.sbsCode,\n        description: formData.sbsDescription,\n        status: result.status,\n        requestedDate: new Date().toISOString().split('T')[0],\n        approvedDate: result.status === 'approved' ? new Date().toISOString().split('T')[0] : null,\n        expiryDate: result.validUntil,\n        approvedAmount: result.approvedAmount\n      }, ...prev]);\n\n      toast.success(`Prior authorization ${result.authNumber} submitted`);\n      setFormData(initialFormData);\n      setActiveTab('pending');\n    } catch (error) {\n      toast.error('Submission failed');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const filteredAuthorizations = authorizations.filter(auth => {\n    if (activeTab === 'new') return false;\n    if (activeTab === 'pending') return auth.status === 'pending';\n    if (activeTab === 'approved') return auth.status === 'approved';\n    if (activeTab === 'denied') return auth.status === 'denied';\n    return true;\n  });\n\n  return (\n    <div className=\"flex-1 overflow-y-auto bg-grid scrollbar-hide\">\n      <main className=\"max-w-[1200px] mx-auto p-6 sm:p-8 space-y-8 stagger-children\">\n        <section className=\"animate-premium-in\">\n          <SectionHeader \n            title=\"Prior Authorization\" \n            subtitle=\"Manage pre-approvals for specialized medical procedures via NPHIES routing.\"\n            badge=\"CHI v3.1 Compliant\"\n          />\n\n          {/* Tab Navigation */}\n          <div className=\"flex flex-wrap gap-2 mt-8\">\n            {[\n              { id: 'new', label: 'New Request', icon: 'add_circle' },\n              { id: 'pending', label: 'Pending', icon: 'hourglass_empty', count: authorizations.filter(a => a.status === 'pending').length },\n              { id: 'approved', label: 'Approved', icon: 'verified', count: authorizations.filter(a => a.status === 'approved').length },\n              { id: 'denied', label: 'Denied', icon: 'report', count: authorizations.filter(a => a.status === 'denied').length },\n              { id: 'all', label: 'Historical', icon: 'inventory_2' }\n            ].map(tab => (\n              <button\n                key={tab.id}\n                onClick={() => setActiveTab(tab.id)}\n                className={`flex items-center gap-2.5 px-5 py-3 rounded-2xl font-bold transition-all duration-300 ${\n                  activeTab === tab.id\n                    ? 'bg-blue-600 text-white shadow-lg shadow-blue-600/20 scale-[1.05]'\n                    : 'bg-white dark:bg-slate-800 text-slate-500 dark:text-slate-400 hover:bg-white/50 border border-slate-200/50 dark:border-slate-700/50 hover:text-slate-900 dark:hover:text-white'\n                }`}\n              >\n                <span className=\"material-symbols-outlined text-[20px]\">{tab.icon}</span>\n                <span className=\"text-sm tracking-tight\">{tab.label}</span>\n                {tab.count !== undefined && tab.count > 0 && (\n                  <span className={`px-2 py-0.5 rounded-full text-[10px] font-black ${\n                    activeTab === tab.id ? 'bg-white/20 text-white' : 'bg-blue-600/10 text-blue-600'\n                  }`}>\n                    {tab.count}\n                  </span>\n                )}\n              </button>\n            ))}\n          </div>\n        </section>\n\n        <div className=\"min-h-[500px]\">\n          {activeTab === 'new' ? (\n            <Card className=\"animate-premium-in\">\n              <CardHeader title=\"Create Authorization Request\" subtitle=\"Fill in the clinical details carefully to ensure higher approval odds.\" />\n              <CardBody className=\"space-y-8\">\n                {/* Patient Block */}\n                <div className=\"grid md:grid-cols-2 gap-6\">\n                  <div className=\"space-y-2 text-primary\">\n                    <label className=\"text-[10px] font-black uppercase tracking-[0.15em] text-slate-400 ml-1\">Patient Identity</label>\n                    <div className=\"relative group\">\n                      <span className=\"material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 transition-colors group-focus-within:text-blue-600\">person</span>\n                      <input \n                        type=\"text\" \n                        value={formData.patientId}\n                        onChange={(e) => setFormData({...formData, patientId: e.target.value})}\n                        className=\"w-full pl-12 pr-4 py-3.5 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-2xl font-bold focus:outline-none focus:ring-2 focus:ring-blue-600/20\"\n                        placeholder=\"Saudi ID / Iqama\"\n                      />\n                    </div>\n                  </div>\n                  <div className=\"space-y-2\">\n                    <label className=\"text-[10px] font-black uppercase tracking-[0.15em] text-slate-400 ml-1\">Full Legal Name</label>\n                    <input \n                      type=\"text\" \n                      value={formData.patientName}\n                      onChange={(e) => setFormData({...formData, patientName: e.target.value})}\n                      className=\"w-full px-4 py-3.5 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-2xl font-bold focus:outline-none focus:ring-2 focus:ring-blue-600/20\"\n                      placeholder=\"e.g. Ahmad bin Khalid\"\n                    />\n                  </div>\n                </div>\n\n                {/* Code Search Block */}\n                <div className=\"space-y-2 relative\">\n                  <label className=\"text-[10px] font-black uppercase tracking-[0.15em] text-slate-400 ml-1\">SBS Procedure Selection</label>\n                  <div className=\"relative group\">\n                    <span className=\"material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 transition-colors group-focus-within:text-blue-600\">search</span>\n                    <input \n                      type=\"text\" \n                      value={formData.sbsCode}\n                      onChange={(e) => handleSbsSearch(e.target.value)}\n                      onFocus={() => sbsSuggestions.length > 0 && setShowSuggestions(true)}\n                      className=\"w-full pl-12 pr-4 py-3.5 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-2xl font-bold focus:outline-none focus:ring-2 focus:ring-blue-600/20\"\n                      placeholder=\"Search for procedure codes or keywords...\"\n                    />\n                  </div>\n                  \n                  {showSuggestions && sbsSuggestions.length > 0 && (\n                    <div className=\"absolute z-50 w-full mt-2 glass-panel border border-slate-200/50 dark:border-slate-700/50 rounded-2xl shadow-2xl overflow-hidden max-h-72 overflow-y-auto stagger-children\">\n                      {sbsSuggestions.map((item, idx) => (\n                        <div \n                          key={idx}\n                          onClick={() => selectSbsCode(item)}\n                          className=\"px-5 py-4 hover:bg-blue-600 hover:text-white cursor-pointer border-b border-slate-100 dark:border-slate-800 last:border-0 transition-colors group/item\"\n                        >\n                          <div className=\"flex justify-between items-start gap-4\">\n                            <span className=\"font-mono text-sm font-bold bg-blue-600/10 text-blue-600 px-2 py-0.5 rounded group-hover/item:bg-white group-hover/item:text-blue-600\">{item.code}</span>\n                            <span className=\"text-xs font-bold uppercase tracking-widest text-slate-400 group-hover/item:text-white/60\">{item.category}</span>\n                          </div>\n                          <p className=\"mt-1 text-sm font-medium leading-relaxed\">{item.desc}</p>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n\n                {formData.sbsDescription && (\n                  <div className=\"p-4 rounded-2xl bg-blue-600/5 border border-blue-600/20 flex items-center gap-3\">\n                    <span className=\"material-symbols-outlined text-blue-600\">info</span>\n                    <p className=\"text-sm font-bold text-blue-600\">Selected: {formData.sbsDescription}</p>\n                  </div>\n                )}\n\n                {/* Amount and Urgency */}\n                <div className=\"grid md:grid-cols-3 gap-6\">\n                  <div className=\"space-y-2\">\n                    <label className=\"text-[10px] font-black uppercase tracking-[0.15em] text-slate-400 ml-1\">Estimated Cost (SAR)</label>\n                    <input \n                      type=\"number\" \n                      value={formData.estimatedAmount}\n                      onChange={(e) => setFormData({...formData, estimatedAmount: e.target.value})}\n                      className=\"w-full px-4 py-3.5 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-2xl font-bold focus:outline-none focus:ring-2 focus:ring-blue-600/20 text-lg\"\n                      placeholder=\"0\"\n                    />\n                  </div>\n                  <div className=\"space-y-2\">\n                    <label className=\"text-[10px] font-black uppercase tracking-[0.15em] text-slate-400 ml-1\">Expected Date</label>\n                    <input \n                      type=\"date\" \n                      value={formData.expectedDate}\n                      onChange={(e) => setFormData({...formData, expectedDate: e.target.value})}\n                      className=\"w-full px-4 py-3.5 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-2xl font-bold focus:outline-none focus:ring-2 focus:ring-blue-600/20\"\n                    />\n                  </div>\n                  <div className=\"space-y-2\">\n                    <label className=\"text-[10px] font-black uppercase tracking-[0.15em] text-slate-400 ml-1\">Urgency Level</label>\n                    <select \n                      value={formData.urgency}\n                      onChange={(e) => setFormData({...formData, urgency: e.target.value})}\n                      className=\"w-full px-4 py-3.5 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-2xl font-bold focus:outline-none focus:ring-2 focus:ring-blue-600/20 appearance-none pointer-events-auto\"\n                    >\n                      <option value=\"routine\">Routine Care</option>\n                      <option value=\"urgent\">Urgent Case</option>\n                      <option value=\"emergency\">Life and Limb (Emergency)</option>\n                    </select>\n                  </div>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <label className=\"text-[10px] font-black uppercase tracking-[0.15em] text-slate-400 ml-1\">Clinical Justification</label>\n                  <textarea \n                    value={formData.clinicalNotes}\n                    onChange={(e) => setFormData({...formData, clinicalNotes: e.target.value})}\n                    rows={4}\n                    className=\"w-full px-4 py-3.5 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-2xl font-bold focus:outline-none focus:ring-2 focus:ring-blue-600/20\"\n                    placeholder=\"Enter medical necessity details here...\"\n                  />\n                </div>\n\n                <div className=\"flex justify-end gap-3 pt-4 border-t border-slate-200/50 dark:border-slate-800/50\">\n                   <Button\n                     variant=\"secondary\"\n                     onClick={() => {\n                       setFormData(initialFormData);\n                       setShowSuggestions(false);\n                       setSbsSuggestions([]);\n                     }}\n                   >\n                     Reset\n                   </Button>\n                   <Button icon=\"send\" loading={submitting} onClick={handleSubmit} className=\"px-10\">Submit Request</Button>\n                </div>\n              </CardBody>\n            </Card>\n          ) : (\n            <div className=\"space-y-4\">\n              {filteredAuthorizations.length === 0 ? (\n                <div className=\"flex flex-col items-center justify-center py-32 animate-premium-in\">\n                   <div className=\"size-20 rounded-[28px] bg-slate-50 dark:bg-slate-800/50 flex items-center justify-center text-slate-300 dark:text-slate-600 mb-4\">\n                      <span className=\"material-symbols-outlined text-5xl\">folder_off</span>\n                   </div>\n                   <p className=\"text-slate-500 font-bold uppercase tracking-widest text-xs\">No records in this queue</p>\n                </div>\n              ) : (\n                filteredAuthorizations.map((auth, i) => (\n                  <AuthListItem key={auth.id} auth={auth} delay={i * 50} />\n                ))\n              )}\n            </div>\n          )}\n        </div>\n      </main>\n    </div>\n  );\n}\n\nfunction AuthListItem({ auth, delay }) {\n  const statusConfig = {\n    approved: { icon: 'verified', color: 'emerald', bg: 'bg-emerald-500/10', text: 'text-emerald-600' },\n    pending: { icon: 'hourglass_top', color: 'amber', bg: 'bg-amber-500/10', text: 'text-amber-600' },\n    denied: { icon: 'report_off', color: 'rose', bg: 'bg-rose-500/10', text: 'text-rose-600' },\n  };\n\n  const config = statusConfig[auth.status] || statusConfig.pending;\n\n  return (\n    <div \n      className=\"glass-card p-6 rounded-[28px] border border-slate-200/50 dark:border-slate-800/50 hover:border-blue-600/30 transition-all duration-300 animate-premium-in\"\n      style={{ animationDelay: `${delay}ms` }}\n    >\n      <div className=\"flex flex-col lg:flex-row items-center justify-between gap-6\">\n        <div className=\"flex items-center gap-6 w-full lg:w-auto\">\n          <div className={`size-16 rounded-[20px] ${config.bg} flex items-center justify-center ${config.text} text-center`}>\n            <span className=\"material-symbols-outlined text-3xl font-bold\">{config.icon}</span>\n          </div>\n          <div className=\"space-y-1\">\n            <div className=\"flex items-center gap-3\">\n              <h4 className=\"text-lg font-black text-slate-900 dark:text-white tracking-tight\">{auth.id}</h4>\n              <span className={`px-2.5 py-1 rounded-lg text-[10px] font-black uppercase tracking-widest ${config.bg} ${config.text} border border-${config.color}-500/20`}>\n                {auth.status}\n              </span>\n            </div>\n            <p className=\"text-sm font-bold text-slate-500\">{auth.patientName} <span className=\"mx-2 opacity-30\">|</span> ID: {auth.patientId}</p>\n          </div>\n        </div>\n\n        <div className=\"h-px lg:h-12 w-full lg:w-px bg-slate-200/50 dark:bg-slate-800/50\"></div>\n\n        <div className=\"flex-1 w-full\">\n           <p className=\"text-xs font-black uppercase tracking-[0.2em] text-slate-400 mb-1\">Procedure Details</p>\n           <div className=\"flex items-center gap-3\">\n              <span className=\"font-mono text-sm font-bold text-blue-600 bg-blue-600/10 px-2 py-0.5 rounded\">{auth.sbsCode}</span>\n              <p className=\"text-sm font-bold text-slate-700 dark:text-slate-300 truncate max-w-md\">{auth.description}</p>\n           </div>\n        </div>\n\n        <div className=\"flex items-center gap-4 text-right w-full lg:w-auto justify-between lg:justify-end\">\n           <div>\n              {auth.approvedAmount && (\n                <p className=\"text-lg font-black text-emerald-600 tracking-tighter\">SAR {auth.approvedAmount.toLocaleString()}</p>\n              )}\n              <p className=\"text-[10px] font-bold text-slate-400 uppercase tracking-widest\">Requested {auth.requestedDate}</p>\n           </div>\n           <button className=\"p-2.5 rounded-xl bg-slate-50 dark:bg-slate-800 text-slate-400 hover:text-blue-600 hover:bg-blue-600/10 transition-all\">\n              <span className=\"material-symbols-outlined\">chevron_right</span>\n           </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["PriorAuthPage","initialFormData","activeTab","setActiveTab","useState","formData","setFormData","sbsSuggestions","setSbsSuggestions","showSuggestions","setShowSuggestions","submitting","setSubmitting","authorizations","setAuthorizations","toast","useToast","useEffect","handleSbsSearch","query","prev","results","searchSBSCodes","selectSbsCode","item","handleSubmit","e","result","nphiesService","filteredAuthorizations","auth","jsxs","jsx","SectionHeader","a","tab","Card","CardHeader","CardBody","idx","Button","i","AuthListItem","delay","statusConfig","config"],"mappings":"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"}