import{r as c,j as e}from"./vendor-react-MVSD7VGK.js";import{n as u}from"./middleware-D48fTRmh.js";import{B as p}from"./Button-BDY0gMZ-.js";import{u as g}from"./main-DTZYqsTu.js";import"./vendor-BW1Bdpst.js";import"./apiService-D97cca7l.js";function C(){const s=g(),[a,d]=c.useState(!1),[n,i]=c.useState([]),[r,o]=c.useState(null),[l,j]=c.useState({code:"NEW_LAB_X1",desc:"Rapid Molecular PCR test for respiratory panel; includes viral targets (Flu A/B, RSV, SARS-CoV-2).",date:"Oct 24, 2023",system:"HIS_Main_East",dept:"Laboratory / Virology"});c.useEffect(()=>{m()},[]);const m=async()=>{d(!0);try{const t=await u(l.code,l.desc),x={code:t.sbs_code,desc:t.desc,confidence:Math.round(t.confidence*100),reason:t.rationale,isTop:!0};i([x,...[{code:"SBS-9024",desc:"Generic PCR, Single Target, Respiratory",confidence:42,reason:"Keyword overlap in 'Respiratory'."},{code:"SBS-8810",desc:"Pathology Consult, Comprehensive",confidence:15,reason:"Contextual fallback for diagnostics."}]]),o(x)}catch{i([{code:"SBS-9021",desc:"Respiratory Viral Panel, Multiplex PCR, 3-5 Targets",confidence:65,reason:"Analysis timeout; showing cached heuristic match.",isTop:!0}])}finally{d(!1)}},h=()=>{s.success(`Relay synchronized: ${l.code} -> ${r.code}`)};return e.jsxs("div",{className:"flex-1 flex overflow-hidden bg-grid",children:[e.jsx("aside",{className:"w-80 border-r border-slate-200/50 dark:border-slate-800/50 bg-white dark:bg-slate-950 flex flex-col overflow-y-auto scrollbar-hide",children:e.jsxs("div",{className:"p-8 space-y-10",children:[e.jsxs("section",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-blue-600 font-black",children:"dataset"}),e.jsx("h3",{className:"text-sm font-black uppercase tracking-widest text-slate-800 dark:text-gray-100",children:"Source Manifest"})]}),e.jsxs("div",{className:"glass-panel p-6 rounded-[28px] border border-blue-600/10 space-y-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Internal Registry ID"}),e.jsx("p",{className:"text-sm font-black text-blue-600 font-mono tracking-tight",children:l.code})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Clinical Narrative"}),e.jsx("p",{className:"text-xs font-bold text-slate-500 leading-relaxed italic",children:l.desc})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Captured"}),e.jsx("p",{className:"text-[11px] font-bold text-slate-800 dark:text-gray-200",children:l.date})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Entity"}),e.jsx("p",{className:"text-[11px] font-bold text-slate-800 dark:text-gray-100",children:l.system})]})]})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Relay Metadata"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(b,{label:"Encounter",value:"Inpatient / Acute"}),e.jsx(b,{label:"Physician",value:"Dr. J. Doe"}),e.jsx(b,{label:"Department",value:"Virology Lab"})]})]})]})}),e.jsxs("main",{className:"flex-1 bg-slate-50/50 dark:bg-slate-950/50 flex flex-col overflow-hidden border-r border-slate-200/50 dark:border-slate-800/50",children:[e.jsxs("header",{className:"px-8 py-6 border-b border-slate-200/50 dark:border-slate-800/50 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"size-2 bg-emerald-500 rounded-full animate-pulse"}),e.jsx("h3",{className:"text-sm font-black uppercase tracking-widest text-slate-800 dark:text-gray-100",children:"AI Inference Candidates"}),e.jsx("span",{className:"text-[10px] font-black px-2 py-0.5 rounded-lg bg-blue-600 text-white shadow-lg shadow-blue-600/20 uppercase tracking-widest",children:"RELAY-PRO V4"})]}),e.jsx(p,{variant:"secondary",size:"sm",icon:"autorenew",onClick:m,loading:a,children:"Sync Rules"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-8 space-y-6 scrollbar-hide",children:a?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center space-y-4",children:[e.jsx("div",{className:"size-10 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Neural Analysis Active..."})]}):n.map((t,x)=>e.jsx(f,{rec:t,active:r?.code===t.code,onSelect:()=>o(t),onInspect:()=>window.dispatchEvent(new CustomEvent("sbs:navigate",{detail:{view:"code-browser"}}))},t.code))})]}),e.jsxs("aside",{className:"w-96 bg-white dark:bg-slate-950 flex flex-col overflow-hidden",children:[e.jsx("header",{className:"px-8 py-6 border-b border-slate-200/50 dark:border-slate-800/50",children:e.jsx("h3",{className:"text-sm font-black uppercase tracking-widest text-slate-800 dark:text-gray-100",children:"Triage Terminal"})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-10 scrollbar-hide",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Manual Registry Search"}),e.jsxs("div",{className:"relative group",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 material-symbols-outlined text-[20px] group-focus-within:text-blue-600 transition-colors",children:"search"}),e.jsx("input",{className:"w-full bg-slate-50 dark:bg-slate-900 shadow-inner border border-slate-200 dark:border-slate-800 rounded-2xl pl-12 pr-4 py-4 text-sm font-bold placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-600/20",placeholder:"Keywords or code (e.g. 'PCR')"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Active Selection"}),r?e.jsxs("div",{className:"glass-card p-8 rounded-[32px] border border-blue-600/20 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute -top-6 -right-6 text-blue-600 opacity-5 group-hover:opacity-10 transition-opacity",children:e.jsx("span",{className:"material-symbols-outlined text-[120px] font-black",children:"fact_check"})}),e.jsxs("div",{className:"relative space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{className:"text-sm font-black text-blue-600 font-mono",children:r.code}),e.jsx("span",{className:"text-[9px] font-black uppercase px-2 py-0.5 rounded bg-emerald-500/10 text-emerald-500",children:"Validated"})]}),e.jsx("h4",{className:"text-lg font-black tracking-tight text-slate-800 dark:text-white leading-tight",children:r.desc}),e.jsxs("div",{className:"pt-4 border-t border-slate-100 dark:border-slate-800 grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest text-slate-400",children:"Registry"}),e.jsx("p",{className:"text-[10px] font-bold text-slate-700 dark:text-gray-300",children:"SBS V3.1 Lab"})]}),e.jsxs("div",{className:"space-y-1 text-right",children:[e.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest text-slate-400",children:"Effective"}),e.jsx("p",{className:"text-[10px] font-bold text-slate-700 dark:text-gray-300",children:"2024 Cycle"})]})]})]})]}):e.jsxs("div",{className:"p-12 border-2 border-dashed border-slate-100 dark:border-slate-800 rounded-[32px] flex flex-col items-center justify-center text-center space-y-4 grayscale",children:[e.jsx("span",{className:"material-symbols-outlined text-4xl text-slate-300",children:"ads_click"}),e.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Awaiting Selection"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Observational Audit Notes"}),e.jsx("textarea",{className:"w-full bg-slate-50 dark:bg-slate-900 shadow-inner border border-slate-200 dark:border-slate-800 rounded-2xl p-4 text-xs font-bold focus:outline-none",rows:"3",placeholder:"Explain the mapping rationale for the audit relay..."})]})]}),e.jsx("div",{className:"p-8 border-t border-slate-200/50 dark:border-slate-800/50 bg-white/50 backdrop-blur-md",children:e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(p,{variant:"secondary",className:"bg-rose-500/5 text-rose-500 border-rose-500/10 hover:bg-rose-500 hover:text-white",icon:"close",onClick:()=>{o(null),s.info("Mapping selection dropped")},children:"Drop"}),e.jsx(p,{className:"col-span-2 shadow-2xl shadow-blue-600/20",icon:"verified",disabled:!r,onClick:h,children:"Relay Confirm"})]})})]})]})}function b({label:s,value:a}){return e.jsxs("div",{className:"flex justify-between items-center px-4 py-3 bg-slate-50/50 dark:bg-slate-900/30 rounded-xl border border-slate-100 dark:border-slate-800",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:s}),e.jsx("span",{className:"text-xs font-bold text-slate-800 dark:text-gray-200",children:a})]})}function f({rec:s,active:a,onSelect:d,onInspect:n}){return e.jsxs("div",{onClick:d,className:`glass-card p-6 rounded-[32px] border-2 transition-all duration-300 cursor-pointer group relative overflow-hidden ${a?"border-blue-600 shadow-2xl shadow-blue-600/10 scale-[1.01]":"border-slate-100 dark:border-slate-800 hover:border-blue-600/30 bg-white dark:bg-slate-900/40"}`,children:[s.isTop&&!a&&e.jsx("div",{className:"absolute top-0 right-0 px-3 py-1 bg-blue-600 text-white text-[9px] font-black uppercase tracking-widest rounded-bl-xl border-l border-b border-blue-600/20",children:"Optimal Match"}),e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsxs("div",{className:`size-14 rounded-2xl flex flex-col items-center justify-center border-2 ${a?"bg-blue-600 text-white border-blue-400":"bg-slate-100 dark:bg-slate-800 text-slate-400 border-transparent"}`,children:[e.jsxs("span",{className:"text-xl font-black leading-none",children:[s.confidence,"%"]}),e.jsx("span",{className:"text-[8px] font-black uppercase mt-1",children:"Score"})]}),e.jsx("div",{className:`size-1.5 rounded-full ${s.confidence>80?"bg-emerald-500":"bg-amber-500"}`})]}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"text-lg font-black tracking-tight text-slate-900 dark:text-white",children:s.code}),e.jsx("span",{className:"text-[10px] font-black uppercase text-slate-400",children:"Registry: V3.1"})]}),e.jsx("p",{className:"text-sm font-bold text-slate-500 leading-snug",children:s.desc})]}),e.jsxs("div",{className:`p-4 rounded-2xl text-[10px] font-bold leading-relaxed border ${a?"bg-blue-600/10 border-blue-600/20 text-blue-700 dark:text-blue-300":"bg-slate-50 dark:bg-slate-800 text-slate-400 border-transparent"}`,children:[e.jsx("span",{className:"uppercase font-black block mb-1",children:"Neural Rationale:"}),s.reason]}),e.jsx("div",{className:"flex gap-4",children:e.jsxs("button",{className:"text-[10px] font-black uppercase tracking-widest text-blue-600 flex items-center gap-1 group-hover:gap-2 transition-all",onClick:i=>{i.stopPropagation(),n?.()},children:["System Definition ",e.jsx("span",{className:"material-symbols-outlined text-sm font-black",children:"arrow_right_alt"})]})})]}),e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:`size-10 rounded-full flex items-center justify-center transition-all ${a?"bg-blue-600 text-white scale-110 shadow-lg shadow-blue-600/40":"bg-slate-100 dark:bg-slate-800 text-slate-300 opacity-0 group-hover:opacity-100 translate-x-4 group-hover:translate-x-0"}`,children:e.jsx("span",{className:"material-symbols-outlined font-black",children:"check"})})})]})]})}export{C as MappingReviewPage};
//# sourceMappingURL=MappingReviewPage-yRct4I29.js.map
